(()=>{"use strict";const e=(()=>{const e=document.querySelector(".weather-condition"),n=document.querySelector(".weather-location"),o=document.querySelector(".weather-location-localtime"),r=document.querySelector(".weather-temperature"),c=document.querySelector(".feelslike"),a=document.querySelector(".humidity"),i=document.querySelector(".wind");async function l(){try{const l=await t.handleWeatherData();e.textContent=l.condition,n.textContent=l.location,o.textContent=l.localTime,r.textContent=l.temperature+"°C",c.textContent=l.temeratureFeelsLike+"° C",a.textContent=`${l.humidity} %`,i.textContent=`${l.wind} km/h`}catch(e){console.log("An error has occured: ",e)}}return l(),{displayWeatherInformation:l}})(),t=(()=>{const t=document.querySelector(".search");let n="london";const o="f6e410436a0749ddb08115726242602";async function r(){try{const e=await fetch(`https://api.weatherapi.com/v1/current.json?key=${o}&q=${n}`,{mode:"cors"}),t=await e.json();return console.log(t),t}catch(e){console.log("error: ",e)}}function c(e){return{location:e.location.name,localTime:e.location.localtime,temperature:e.current.temp_c,temeratureFeelsLike:e.current.feelslike_c,condition:e.current.condition.text,conditionIcon:e.current.condition.icon,wind:e.current.wind_kph,humidity:e.current.humidity}}async function a(){try{return c(await r())}catch(e){console.log("An error occured: ",e)}}return t.addEventListener("click",(async()=>{n=document.querySelector(".search-bar").value,console.log(n),a(),e.displayWeatherInformation()})),{getWeatherData:r,handleWeatherData:a,processWeatherData:c}})();document.addEventListener("DOMContentLoaded",(()=>{t.handleWeatherData(),e.displayWeatherInformation()}))})();